<link href="${base}/css/teacherCenter/teacherInfo.css" rel="stylesheet"
	type="text/css" />
<!-- <link href="${base}/css/teacherCenter/upload.css" rel="stylesheet" type="text/css"/> -->
<!-- <link href="${base}/css/showdiv.css" rel="stylesheet" type="text/css"> -->
<script src="${base}/js/teachercenter/teacherinfor.js" type="text/javascript"></script>
<script src="${base}/js/verifyForm.js" type="text/javascript"></script>
<div class="topBox">
	<div class="menuBtn" style="cursor:auto"></div>
	<div class="crumbs">
		你所在的位置：<span>个人中心</span>
	</div>
</div>

<div class="main">
	<!-- 头部触发区域 -->
	<div class="tab mt20">
		<ul style="" id="quickNav">
			<li class="current"><a href="javascript:;" class="jobInfo">个人资料</a></li>
			<li><a href="javascript:;" class="jobInfo">修改头像</a></li>
			<li><a href="javascript:;" class="course">密码修改</a></li>
		</ul>
	</div>
	<!--修改内容区域 -->
	<div class="form-bodybox">
		<!--个人信息修改 -->
		<div class="form-body pad20 form-bodyTab">
			<form action="" method="post" name="presonInfor" id="presonInfor">
				<div class="form-row">
					<div class="label">
						<label>邮箱：</label>
					</div>
					<div class="input">
<!--						<input type="text" placeholder="" class="medium" name="countId" disabled="disabled" value="${userModel.userEmail!}" />-->
						<input type="hidden" placeholder="" class="medium" name="countId" value="${userModel.userEmail!}">
						<input type="hidden" placeholder="请填写邮件地址" class="medium"
							id="emailID" name="userEmail" value="${userModel.userEmail!}"/>
							
						<input type="email" placeholder="请填写邮件地址" class="medium"
							value="${userModel.userEmail!}" disabled="disabled"
							tag="*,email,CheckExistEmail" />
						<span style="color:red" class="flag">*</span>
					</div>
				</div>
				<div class="form-row">
					<div class="label">
						<label>用户名：</label>
					</div>
					<div class="input">
						<input type="hidden" name="hduserId" value="${userModel.userId!}">
						<input type="hidden" name="hdteacherId" value="${teacherModel.id!}">
						<input type="hidden" name="uname" id="uname" value="${userModel.userName!}">
						<input type="text"
							placeholder="" class="small" name="uname" id="uname"
							value="${userModel.userName!}" disabled="disabled" tag="*,nameCheck,CheckExistUser"
							maxlength="14" />
						<span style="color:red" class="flag">*</span>
					</div>
				</div>

				<div class="form-row">
					<div class="label">
						<label>个人介绍：</label>
					</div>
					<div class="input">
						<textarea class="large" rows="4" name="introduce" maxlength="500"
							placeholder="请填写个人介绍" tag="length500">${teacherModel.introduce!}</textarea>
						<!-- <label>[<b>0</b>/10]</label> -->
					</div>
				</div>
				<div class="form-row">
					<div class="label">
						<label>电话：</label>
					</div>
					<div class="input">
						<span class="text"><input type="text" placeholder="请填写电话号码"
							class="medium" name="userMobile" value="${userModel.userMobile!}"
							tag="telormob" /></span>
					</div>
				</div>
<!--				<div class="form-row">-->
<!--					<div class="label">-->
<!--						<label>邮件：</label>-->
<!--					</div>-->
<!--					<div class="input">-->
<!--						<input type="email" placeholder="请填写邮件地址" class="medium"-->
<!--							id="emailID" name="userEmail" value="${userModel.userEmail!}"-->
<!--							tag="*,email,CheckExistEmail" />-->
<!--						<span style="color:red" class="flag">*</span>-->
<!--					</div>-->
<!--				</div>-->

				<div class="form-row">
					<div class="label">
						<label>就职学校：</label>
					</div>
					<div class="input">
						<input type="text" placeholder="请填写学校名称" class="medium" disabled="disabled"
							name="school" value="${teacherModel.school!}" tag="*,nameCheckF" />
						<input type="hidden" value="${teacherModel.school!}" name="school"/>
					</div>
				</div>
				<div class="form-row">
					<div class="label">
						<label>职称：</label>
					</div>
					<div class="input">
						<input type="text" placeholder="请填写职称" class="medium"
							name="teacherLevel" value="${teacherModel.teacherLevel!}"
							tag="*,nameCheckF" />
						<span style="color:red" class="flag">*</span>
					</div>
				</div>
				<div class="form-row">
					<div class="label">
						<label>专业：</label>
					</div>
					<div class="input">
						<input type="text" placeholder="请填写专业" class="medium" name="major"
							value="${teacherModel.major!}" tag="*,nameCheckF">
						<span style="color:red" class="flag">*</span>
					</div>
				</div>

				<div class="form-row">
					<div class="label">
						<label>擅长领域：</label>
					</div>
					<div class="input">
						<button type="button" class="btn btn-default btn-small"
							onclick="popupteachershine();">选择擅长领域</button>
						<span class="ml10 text" id="selectedShines">${teachershineStr!}</span>
					</div>
						<input type="hidden" id="jobGroupIdsInput" name="jobGroupIdsInput" value="${teachershineIdStr!}"/>
				</div>


				<div id="fourthGrid" class="form-body pad20">
					<div class="form-button-bar">
						<button type="button" class="btn btn-success btn-small secondStep"
							onclick="UpdateTeacherInfor(this)">&nbsp;&nbsp;保存&nbsp;&nbsp;</button>
					</div>
				</div>
			</form>
		</div>


		<!-- 个人头像修改区域 -->

		<div class="form-body pad20 form-bodyTab" style="display: none;">
				<div class="form-row">
					<div class="label">
						<label>个人头像：</label>
					</div>
					<div class="input">
						<span class="text-img"><img src="${cache!}${userHeadPic!}" id="headPicPreview" alt="" title="" />
						<input type="hidden" name="imgpre" id="imgpre" value="" />
						</span> 
						<span class="btn btn-small btn-default btn-file"> 
							<span class="fileupload-new" id="fileUploads">上传文件</span> 
							<form action="${base!}/teachercenter/uploadTeacherImage/" method="post" encType="multipart/form-data" 
								target="imgIframe" id="imgForm" name="imgForm">
								<input type="file" name="imagefile" id="fileInfor" class="margin-none btn-file-input" onchange="uploadImage(this)"> 
							</form>
						</span>
					</div>
				</div>
				<div id="fourthGrid" class="form-body ">
					<div class="form-button-bar">
						<button type="button" class="btn btn-success btn-small secondStep"
							onclick="imgSub()">&nbsp;&nbsp;保存&nbsp;&nbsp;</button>
						<span class='validation' id="resultInfo"></span>
					</div>
				</div>
			<iframe id="imgIframe" name="imgIframe" style="display: none;"></iframe>
		</div>


		<!-- 修改密码区域 -->
		<div class="form-body pad20 form-bodyTab" style="display: none;">
			<form name="pwdupdate" id="pwdupdate" method="post">
				<div class="form-row">
					<div class="label">
						<label>原密码：</label>
					</div>
					<div class="input">
						<input type="password" autocomplete="off" name="oldpwd" tag="*,6-12" id="oldpwd"
						 	oncopy="return false;" oncut="return false;" onpaste="return false;"	placeholder="请填写密码" class="medium">
					</div>
				</div>
				<div class="form-row">
					<div class="label">
						<label>新密码：</label>
					</div>
					<div class="input">
						<input type="password" autocomplete="off" name="newpwd" oncopy="return false;" oncut="return false;" onpaste="return false;"
							tag="*,6-12,isSame" id="pwd" placeholder="请填写新密码" class="medium">
					</div>
				</div>
				<div class="form-row">
					<div class="label">
						<label>确认密码：</label>
					</div>
					<div class="input">
						<input type="password" name="submitpwd" tag="*,6-12,ptp" id="pwd2"  oncopy="return false;" oncut="return false;" onpaste="return false;"
							placeholder="请填重新填写新密码" value="" class="medium">
					</div>
				</div>
				<div id="fourthGrid" class="form-body pad20">
					<div class="form-button-bar">
						<button type="button" class="btn btn-success btn-small secondStep" id="passButton"
							onclick="pwdverify(this)">&nbsp;&nbsp;保存&nbsp;&nbsp;</button>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>

<div style="display: none;" id="alertDiv"></div>


<script type="text/javascript">

	$(function() {
		var $li = $(".tab li"), $content = $(".form-bodyTab"), $index;

		$li.click(function() {
			$(this).addClass("current").siblings().removeClass('current');
			$index = $li.index($(this));
			$content.eq($index).show().siblings().hide();
			if($index==1){
				getTeacherImage();
				$('#resultInfo').html("");
			}
		});
	});
</script>

